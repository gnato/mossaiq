(this["webpackJsonpimages-grid"]=this["webpackJsonpimages-grid"]||[]).push([[0],{150:function(e){e.exports=JSON.parse('{"app.grid-config":"Konfiguracja planszy","app.render":"Generuj","grid-config.presets":"Ustawienia domy\u015blne","grid-config.columns":"Liczba kolumn","grid-config.margins":"Odst\u0119py","grid-config.box-width":"Szeroko\u015b\u0107 kafelka","grid-config.box-height":"Wysoko\u015b\u0107 kafelka","grid-config.items-count":"Liczba kafelek","grid-config.color":"Kolor t\u0142a"}')},151:function(e){e.exports=JSON.parse('{"app.grid-config":"Surface config","app.render":"Render","grid-config.presets":"Presets","grid-config.columns":"Columns","grid-config.margins":"Margins","grid-config.box-width":"Box width","grid-config.box-height":"Box height","grid-config.items-count":"Boxes count","grid-config.color":"Color"}')},159:function(e,t,a){e.exports=a(334)},164:function(e,t,a){},165:function(e,t,a){},334:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),c=a.n(i),o=a(388),l=a(11),s=a(16),u=a(378),d=a(3),m=a(390),f=a(382),g=a(383),p=a(381),h=a(384),b=a(386),O=a(385),j=a(147),E=a.n(j),w=a(148),v=a.n(w),y=a(149),x=a.n(y),S=a(392),k=a(18),P=a(141),N=a.n(P),C=a(142),B=a.n(C),R=a(143),D=a.n(R),L=(a(164),function(e){var t=e.width,a=e.height,i=e.margin,c=e.content,o=Object(n.useState)(null),l=Object(s.a)(o,2),u=l[0],d=l[1],m=Object(n.useState)(null),f=Object(s.a)(m,2),g=f[0],p=f[1],h=Object(n.useRef)();return Object(n.useEffect)((function(){h.current&&D.a.crop(h.current,{width:t,height:a}).then((function(e){return p(e.topCrop)}))}),[t,a,u]),r.a.createElement("div",{className:"item",style:{width:t,height:a,marginRight:i,marginBottom:i}},r.a.createElement("div",{className:"item-content",onDrop:function(e){if(e.dataTransfer&&0!==e.dataTransfer.files.length){var t=new FileReader,a=e.dataTransfer.files[0];t.onloadend=function(){d(t.result)},t.readAsDataURL(a)}}},u&&r.a.createElement("img",{src:u,ref:h,style:{display:"none"},alt:""}),g&&r.a.createElement("div",{className:"item-crop-wrap",style:{width:g.width,height:g.height,transform:"scale(".concat((t>=a?100*t/g.width:100*a/g.height)/100,")")}},r.a.createElement("img",{src:u,alt:"",className:"item-crop-img",style:{top:-1*g.y,left:-1*g.x}})),!u&&c))});L.defaultProps={margin:0,width:10,height:10};var z=L,T=(a(165),function(e){var t=e.cols,a=e.margin,i=e.width,c=e.height,o=e.colorBackground,l=e.items,u=e.render,d=e.onRenderComplete,m=Object(n.useState)(t),f=Object(s.a)(m,2),g=f[0],p=f[1],h=Object(n.useState)(a),b=Object(s.a)(h,2),O=b[0],j=b[1],E=Object(n.useState)(i),w=Object(s.a)(E,2),v=w[0],y=w[1],x=Object(n.useState)(c),S=Object(s.a)(x,2),P=S[0],C=S[1],R=Object(n.useState)(l),D=Object(s.a)(R,2),L=D[0],T=D[1],I=Object(n.useState)(o),W=Object(s.a)(I,2),J=W[0],F=W[1];Object(n.useEffect)((function(){p(t),G()}),[t]),Object(n.useEffect)((function(){j(a),G()}),[a]),Object(n.useEffect)((function(){y(i),G()}),[i]),Object(n.useEffect)((function(){C(c),G()}),[c]),Object(n.useEffect)((function(){T(l),setTimeout((function(){var e=[];if(l>L){for(var t=L;t<l;t+=1)e.push(A.current.children[t]);U.current.add(e)}else G()}),0)}),[l,L]),Object(n.useEffect)((function(){return F(o)}),[o]);var G=function(){"undefined"!==typeof U.current&&setTimeout((function(){U.current.refreshItems(),U.current.layout()}),0)},H=function(e){e.preventDefault()},U=Object(n.useRef)(),A=Object(n.useRef)(),K=Object(n.useRef)();Object(n.useEffect)((function(){return U.current=new N.a(A.current,{dragEnabled:!0,dragPlaceholder:{enabled:!0,duration:400,createElement:function(e){return e.getElement().cloneNode(!0)}}}),U.current.on("dragReleaseEnd",(function(){return U.current.synchronize()})),window.addEventListener("dragover",H),window.addEventListener("drop",H),function(){U.destroy(),window.removeEventListener("dragover",H),window.removeEventListener("drop",H)}}),[]),Object(n.useEffect)((function(){u&&B()(K.current).then((function(e){var t=document.createElement("a");t.href=e.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream"),t.download="mossaiq.jpg",t.click(),d()}))}),[u,d]);var M=Object(k.a)(Array(L).keys()).map((function(e){return r.a.createElement(z,{key:e,width:v,height:P,margin:O,content:"".concat(e+1)})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:K,className:"grid-outer",style:{width:g*v+g*O+O,paddingTop:O,paddingLeft:O,background:J}},r.a.createElement("div",{className:"grid",ref:A},M)))});T.defaultProps={cols:1,margin:0,width:10,height:10,items:0,colorBackground:"#ddd",render:!1,onRenderComplete:function(){}};var I=T,W=a(393),J=a(394),F=a(391),G=a(376),H=a(387),U=a(144),A=a(145),K=Object(A.a)((function(e){return{slider:{marginBottom:e.spacing(1)},formControl:{marginBottom:e.spacing(4),width:"100%"}}}));function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q=[{label:"columns",name:"cols",min:1,max:10,default:4,unit:"px"},{label:"margins",name:"margin",min:0,max:50,default:10,unit:"px"},{label:"box-width",name:"width",min:50,max:500,default:100,unit:"px"},{label:"box-height",name:"height",min:50,max:500,default:100,unit:"px"},{label:"items-count",name:"items",min:1,max:50,default:8,unit:""}],Q=[{name:"120 x 600",values:{margin:5,cols:1,width:110,height:144,items:4}},{name:"300 x 250",values:{margin:5,cols:2,width:142,height:118,items:4}},{name:"300 x 600",values:{margin:7,cols:2,width:140,height:141,items:8}},{name:"750 x 100",values:{margin:5,cols:5,width:144,height:90,items:5}},{name:"750 x 200",values:{margin:5,cols:5,width:144,height:190,items:5}}],Y=function(e){var t=e.onValuesChanged,a=void 0===t?function(){}:t,i=K(),c=Object(n.useState)(""),o=Object(s.a)(c,2),d=o[0],m=o[1],f=Object.fromEntries(q.map((function(e){return[e.name,e.default]}))),g=Object(n.useState)(f),p=Object(s.a)(g,2),h=p[0],b=p[1],O=Object(n.useState)("#fff"),j=Object(s.a)(O,2),E=j[0],w=j[1];return Object(n.useEffect)((function(){a(V({},h,{colorBackground:E}))}),[h,E]),r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{className:i.formControl},r.a.createElement(J.a,{id:"select-preset-label"},r.a.createElement(u.a,{id:"grid-config.presets"})),r.a.createElement(H.a,{labelId:"select-preset-label",id:"select-preset",value:d,onChange:function(e){var t=e.target.value;m(t),b(V({},h,{},Q[t].values))}},Q.map((function(e,t){return r.a.createElement(F.a,{key:t,value:t},e.name)})))),q.map((function(e){return r.a.createElement("div",{className:i.slider,key:e.name},r.a.createElement(J.a,null,r.a.createElement(u.a,{id:"grid-config.".concat(e.label)})),r.a.createElement(W.a,{value:h[e.name],"aria-labelledby":"discrete-slider",step:1,name:e.name,min:e.min,max:e.max,valueLabelDisplay:"auto",onChange:function(t,a){return n=a,r=e.name,void(h[r]!==n&&(m(""),b(V({},h,Object(l.a)({},r,n)))));var n,r},marks:[{value:e.min,label:"".concat(e.min," ").concat(e.unit)},{value:e.max,label:"".concat(e.max," ").concat(e.unit)}]}))})),r.a.createElement(J.a,null,r.a.createElement(u.a,{id:"grid-config.color"})),r.a.createElement("br",null),r.a.createElement(U.CirclePicker,{color:E,width:"100%",circleSize:26,onChange:function(e){return w(e.hex)},colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b","#ffffff"]}))};function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var X=Object(A.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(350,"px)"),transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:350},title:{flexGrow:1},hide:{display:"none"},drawer:{width:350,flexShrink:0},drawerPaper:{width:350},drawerHeader:_({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-start"}),drawerBody:{overflowY:"auto",padding:25},content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginRight:-350},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}})),Z=function(){var e=X(),t=Object(n.useState)(!1),a=Object(s.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)(!1),j=Object(s.a)(o,2),w=j[0],y=j[1],k=Object(n.useState)({}),P=Object(s.a)(k,2),N=P[0],C=P[1];return r.a.createElement("div",{className:e.root},r.a.createElement(p.a,null),r.a.createElement(f.a,{position:"fixed",className:Object(d.a)(e.appBar,Object(l.a)({},e.appBarShift,i))},r.a.createElement(g.a,null,r.a.createElement(h.a,{variant:"h6",noWrap:!0,className:e.title},"MossaIQ"),r.a.createElement(S.a,{title:r.a.createElement(u.a,{id:"app.render"})},r.a.createElement(O.a,{color:"inherit",disabled:w,onClick:function(){return y(!0)},className:Object(d.a)(i&&e.hide)},r.a.createElement(E.a,null))),r.a.createElement(S.a,{title:r.a.createElement(u.a,{id:"app.grid-config"})},r.a.createElement(O.a,{color:"inherit",edge:"end",disabled:w,onClick:function(){return c(!0)},className:Object(d.a)(i&&e.hide)},r.a.createElement(v.a,null))))),r.a.createElement("main",{className:Object(d.a)(e.content,Object(l.a)({},e.contentShift,i))},r.a.createElement("div",{className:e.drawerHeader}),r.a.createElement(I,Object.assign({},N,{render:w,onRenderComplete:function(){return y(!1)}}))),r.a.createElement(m.a,{className:e.drawer,variant:"persistent",anchor:"right",open:i,classes:{paper:e.drawerPaper}},r.a.createElement("div",{className:e.drawerHeader},r.a.createElement(O.a,{onClick:function(){return c(!1)}},r.a.createElement(x.a,null)),r.a.createElement(h.a,{variant:"h6",noWrap:!0},r.a.createElement(u.a,{id:"app.grid-config"}))),r.a.createElement(b.a,null),r.a.createElement("div",{className:e.drawerBody},r.a.createElement(Y,{onValuesChanged:C}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=a(150),te=a(151),ae=(a(333),{pl:ee,en:te}),ne=navigator.language.split(/[-_]/)[0];c.a.render(r.a.createElement(o.a,{locale:ne,key:ne,messages:ae[ne]||ae.en},r.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[159,1,2]]]);
//# sourceMappingURL=main.43e67e60.chunk.js.map