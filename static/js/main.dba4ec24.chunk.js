(this["webpackJsonpimages-grid"]=this["webpackJsonpimages-grid"]||[]).push([[0],{158:function(e){e.exports=JSON.parse('{"app.grid-config":"Konfiguracja planszy","app.render":"Generuj","grid-config.presets":"Ustawienia domy\u015blne","grid-config.columns":"Liczba kolumn","grid-config.margins":"Odst\u0119py","grid-config.box-width":"Szeroko\u015b\u0107 kafelka","grid-config.box-height":"Wysoko\u015b\u0107 kafelka","grid-config.items-count":"Liczba kafelek","grid-config.color":"Kolor t\u0142a","slide.next":"Nast\u0119pny","slide.prev":"Poprzedni","slide.add":"Dodaj","slide.delete":"Skasuj","slide.copy":"Skopiuj"}')},159:function(e){e.exports=JSON.parse('{"app.grid-config":"Surface config","app.render":"Render","grid-config.presets":"Presets","grid-config.columns":"Columns","grid-config.margins":"Margins","grid-config.box-width":"Box width","grid-config.box-height":"Box height","grid-config.items-count":"Boxes count","grid-config.color":"Color","slide.next":"Next","slide.prev":"Previous","slide.add":"Add","slide.delete":"Delete","slide.copy":"Copy"}')},167:function(e,t,n){e.exports=n(343)},172:function(e,t,n){},173:function(e,t,n){},340:function(e,t,n){},343:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(11),c=n.n(i),o=n(398),l=n(10),s=n(16),u=n(13),d=n(388),m=n(3),f=n(399),g=n(393),p=n(394),b=n(392),h=n(395),O=n(396),j=n(391),E=n(155),v=n.n(E),w=n(156),y=n.n(w),P=n(157),S=n.n(P),x=n(401),k=n(144),C=n.n(k),N=n(145),D=n.n(N),R=n(146),B=n.n(R),L=(n(172),function(e){var t=e.width,n=e.height,i=e.margin,c=e.content,o=e.srcPhoto,l=e.srcCrop,s=e.onPhotoLoad,d=Object(a.useState)(o),m=Object(u.a)(d,2),f=m[0],g=m[1],p=Object(a.useState)(l),b=Object(u.a)(p,2),h=b[0],O=b[1],j=Object(a.useRef)();return Object(a.useEffect)((function(){j.current&&B.a.crop(j.current,{width:t,height:n}).then((function(e){O(e.topCrop),s(f,h)}))}),[t,n,f]),r.a.createElement("div",{className:"item",style:{width:t,height:n,marginRight:i,marginBottom:i}},r.a.createElement("div",{className:"item-content",onDrop:function(e){if(e.dataTransfer&&0!==e.dataTransfer.files.length){var t=new FileReader,n=e.dataTransfer.files[0];t.onloadend=function(){g(t.result)},t.readAsDataURL(n)}}},f&&r.a.createElement("img",{src:f,ref:j,style:{display:"none"},alt:""}),h&&r.a.createElement("div",{className:"item-crop-wrap",style:{width:h.width,height:h.height,transform:"scale(".concat((t>=n?100*t/h.width:100*n/h.height)/100,")")}},r.a.createElement("img",{src:f,alt:"",className:"item-crop-img",style:{top:-1*h.y,left:-1*h.x}})),!f&&c))});L.defaultProps={margin:0,width:10,height:10};var A=L,z=(n(173),function(e){var t=e.cols,n=e.margin,i=e.width,c=e.height,o=e.colorBackground,l=e.items,d=e.render,m=e.srcPhotos,f=e.onRenderComplete,g=e.onPhotosChanged,p=Object(a.useState)(t),b=Object(u.a)(p,2),h=b[0],O=b[1],j=Object(a.useState)(n),E=Object(u.a)(j,2),v=E[0],w=E[1],y=Object(a.useState)(i),P=Object(u.a)(y,2),S=P[0],x=P[1],k=Object(a.useState)(c),N=Object(u.a)(k,2),R=N[0],B=N[1],L=Object(a.useState)(l),z=Object(u.a)(L,2),T=z[0],I=z[1],W=Object(a.useState)(o),J=Object(u.a)(W,2),F=J[0],G=J[1],H=Object(a.useState)(m),U=Object(u.a)(H,2),K=U[0],M=U[1];Object(a.useEffect)((function(){O(t),V()}),[t]),Object(a.useEffect)((function(){w(n),V()}),[n]),Object(a.useEffect)((function(){x(i),V()}),[i]),Object(a.useEffect)((function(){B(c),V()}),[c]),Object(a.useEffect)((function(){I(l),setTimeout((function(){var e=[];if(l>T){for(var t=T;t<l;t+=1)e.push(Y.current.children[t]);Q.current.add(e)}else V()}),0)}),[l,T]),Object(a.useEffect)((function(){return G(o)}),[o]);var V=function(){"undefined"!==typeof Q.current&&setTimeout((function(){Q.current.refreshItems(),Q.current.layout()}),0)},q=function(e){e.preventDefault()},Q=Object(a.useRef)(),Y=Object(a.useRef)(),$=Object(a.useRef)();Object(a.useEffect)((function(){return Q.current=new C.a(Y.current,{dragEnabled:!0,dragPlaceholder:{enabled:!0,duration:400,createElement:function(e){return e.getElement().cloneNode(!0)}}}),Q.current.on("dragReleaseEnd",(function(){return Q.current.synchronize()})),window.addEventListener("dragover",q),window.addEventListener("drop",q),function(){Q.current.destroy(),window.removeEventListener("dragover",q),window.removeEventListener("drop",q)}}),[]),Object(a.useEffect)((function(){d&&D()($.current).then((function(e){var t=document.createElement("a");t.href=e.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream"),t.download="mossaiq.jpg",t.click(),f()}))}),[d,f]);var _=Object(s.a)(Array(T).keys()).map((function(e){return r.a.createElement(A,{key:e,width:S,height:R,margin:v,content:"".concat(e+1),srcPhoto:K[e]?K[e].photo:null,srcCrop:K[e]?K[e].crop:null,onPhotoLoad:function(t,n){return function(e,t,n){var a=Object(s.a)(K);a[n]={photo:e,crop:t},M(a),g(a)}(t,n,e)}})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:$,className:"grid-outer",style:{width:h*S+h*v+v,paddingTop:v,paddingLeft:v,background:F}},r.a.createElement("div",{className:"grid",ref:Y},_)))});z.defaultProps={cols:1,margin:0,width:10,height:10,items:0,colorBackground:"#ddd",render:!1,srcPhotos:[],onRenderComplete:function(){},onPhotosChanged:function(){}};var T=z,I=n(404),W=n(402),J=n(403),F=n(386),G=n(397),H=n(147),U=n(148),K=Object(U.a)((function(e){return{slider:{marginBottom:e.spacing(1)},formControl:{marginBottom:e.spacing(4),width:"100%"}}}));function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=[{label:"columns",name:"cols",min:1,max:10,default:4,unit:"px"},{label:"margins",name:"margin",min:0,max:50,default:10,unit:"px"},{label:"box-width",name:"width",min:50,max:500,default:100,unit:"px"},{label:"box-height",name:"height",min:50,max:500,default:100,unit:"px"},{label:"items-count",name:"items",min:1,max:50,default:8,unit:""}],Q=[{name:"120 x 600",values:{margin:5,cols:1,width:110,height:144,items:4}},{name:"300 x 250",values:{margin:5,cols:2,width:142,height:118,items:4}},{name:"300 x 600",values:{margin:7,cols:2,width:140,height:141,items:8}},{name:"750 x 100",values:{margin:5,cols:5,width:144,height:90,items:5}},{name:"750 x 200",values:{margin:5,cols:5,width:144,height:190,items:5}}],Y=function(e){var t=e.onValuesChanged,n=void 0===t?function(){}:t,i=K(),c=Object(a.useState)(""),o=Object(u.a)(c,2),s=o[0],m=o[1],f=Object.fromEntries(q.map((function(e){return[e.name,e.default]}))),g=Object(a.useState)(f),p=Object(u.a)(g,2),b=p[0],h=p[1],O=Object(a.useState)("#fff"),j=Object(u.a)(O,2),E=j[0],v=j[1];return Object(a.useEffect)((function(){n(V({},b,{colorBackground:E}))}),[b,E]),r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{className:i.formControl},r.a.createElement(W.a,{id:"select-preset-label"},r.a.createElement(d.a,{id:"grid-config.presets"})),r.a.createElement(G.a,{labelId:"select-preset-label",id:"select-preset",value:s,onChange:function(e){var t=e.target.value;m(t),h(V({},b,{},Q[t].values))}},Q.map((function(e,t){return r.a.createElement(J.a,{key:t,value:t},e.name)})))),q.map((function(e){return r.a.createElement("div",{className:i.slider,key:e.name},r.a.createElement(W.a,null,r.a.createElement(d.a,{id:"grid-config.".concat(e.label)})),r.a.createElement(I.a,{value:b[e.name],"aria-labelledby":"discrete-slider",step:1,name:e.name,min:e.min,max:e.max,valueLabelDisplay:"auto",onChange:function(t,n){return a=n,r=e.name,void(b[r]!==a&&(m(""),h(V({},b,Object(l.a)({},r,a)))));var a,r},marks:[{value:e.min,label:"".concat(e.min," ").concat(e.unit)},{value:e.max,label:"".concat(e.max," ").concat(e.unit)}]}))})),r.a.createElement(W.a,null,r.a.createElement(d.a,{id:"grid-config.color"})),r.a.createElement("br",null),r.a.createElement(H.CirclePicker,{color:E,width:"100%",circleSize:26,onChange:function(e){return v(e.hex)},colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b","#ffffff"]}))};function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=Object(U.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(350,"px)"),transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:350},title:{flexGrow:1},hide:{display:"none"},drawer:{width:350,flexShrink:0},drawerPaper:{width:350},drawerHeader:_({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-start"}),drawerBody:{overflowY:"auto",padding:25},content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginRight:-350},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}})),Z=n(150),ee=n.n(Z),te=n(151),ne=n.n(te),ae=n(152),re=n.n(ae),ie=n(154),ce=n.n(ie),oe=n(153),le=n.n(oe),se=(n(340),function(e){var t=e.currentSlide,n=e.countAllSlides,a=e.onAdd,i=e.onCopy,c=e.onDelete,o=e.onNext,l=e.onPrev;return r.a.createElement("div",{className:"wrapper"},r.a.createElement(x.a,{title:r.a.createElement(d.a,{id:"slide.prev"})},r.a.createElement("span",null,r.a.createElement(j.a,{color:"inherit",disabled:1===t,onClick:l},r.a.createElement(ee.a,null)))),t," / ",n,r.a.createElement(x.a,{title:r.a.createElement(d.a,{id:"slide.next"})},r.a.createElement("span",null,r.a.createElement(j.a,{color:"inherit",disabled:n===t,onClick:o},r.a.createElement(ne.a,null)))),r.a.createElement(x.a,{title:r.a.createElement(d.a,{id:"slide.add"})},r.a.createElement("span",null,r.a.createElement(j.a,{color:"inherit",onClick:a},r.a.createElement(re.a,null)))),r.a.createElement(x.a,{title:r.a.createElement(d.a,{id:"slide.copy"})},r.a.createElement("span",null,r.a.createElement(j.a,{color:"inherit",onClick:i},r.a.createElement(le.a,null)))),r.a.createElement(x.a,{title:r.a.createElement(d.a,{id:"slide.delete"})},r.a.createElement("span",null,r.a.createElement(j.a,{color:"inherit",disabled:1===n,onClick:c},r.a.createElement(ce.a,null)))))});se.defaultProps={currentSlide:1,countAllSlides:1};var ue=se;function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe=r.a.memo((function(e){var t=e.gridConfig,n=e.render,a=e.photos,i=e.onRenderComplete,c=e.onPhotosChanged;return r.a.createElement(T,Object.assign({},t,{render:n,srcPhotos:a,onRenderComplete:i,onPhotosChanged:c}))}),(function(e,t){return e.render===t.render&&(n=e.gridConfig,a=t.gridConfig,Object.keys(n).length===Object.keys(a).length&&Object.keys(n).every((function(e){return n[e]===a[e]})));var n,a})),ge=function(){var e=X(),t=Object(a.useState)(!1),n=Object(u.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)(!1),E=Object(u.a)(o,2),w=E[0],P=E[1],k=Object(a.useState)({}),C=Object(u.a)(k,2),N=C[0],D=C[1],R=Object(a.useState)({}),B=Object(u.a)(R,2),L=B[0],A=B[1],z=Object(a.useState)(""),T=Object(u.a)(z,2),I=T[0],W=T[1],J=Object(a.useState)(1),F=Object(u.a)(J,2),G=F[0],H=F[1],U=Object(a.useState)(1),K=Object(u.a)(U,2),M=K[0],V=K[1],q=Object(a.useState)(["id-".concat(Date.now())]),Q=Object(u.a)(q,2),$=Q[0],_=Q[1];Object(a.useEffect)((function(){I&&(V(M+1),_([].concat(Object(s.a)($),[I])))}),[I]);var Z=$.map((function(e,t){var n={display:t+1===G?"block":"none"};return r.a.createElement("div",{style:n,key:e},r.a.createElement(fe,{gridConfig:N,render:w,onRenderComplete:function(){return P(!1)},photos:L[e]||[],onPhotosChanged:function(t){return function(e,t){var n=me({},L,Object(l.a)({},t,e));A(n)}(t,e)}}))}));return r.a.createElement("div",{className:e.root},r.a.createElement(b.a,null),r.a.createElement(g.a,{position:"fixed",className:Object(m.a)(e.appBar,Object(l.a)({},e.appBarShift,i))},r.a.createElement(p.a,null,r.a.createElement(h.a,{variant:"h6",noWrap:!0,className:e.title},"MossaIQ"),r.a.createElement(ue,{currentSlide:G,countAllSlides:M,onAdd:function(){V(M+1),_([].concat(Object(s.a)($),["id-".concat(Date.now())]))},onCopy:function(){var e=$[G-1],t="id-".concat(Date.now());if(L[e]){var n=me({},L,Object(l.a)({},t,L[e]));A(n)}W(t)},onDelete:function(){_($.filter((function(e){return e!==$[G-1]}))),M===G&&H(G-1),V(M-1)},onNext:function(){H(G+1)},onPrev:function(){H(G-1)}}),r.a.createElement(x.a,{title:r.a.createElement(d.a,{id:"app.render"})},r.a.createElement("span",null,r.a.createElement(j.a,{color:"inherit",disabled:w>0,onClick:function(){return P(!0)},className:Object(m.a)(i&&e.hide)},r.a.createElement(v.a,null)))),r.a.createElement(x.a,{title:r.a.createElement(d.a,{id:"app.grid-config"})},r.a.createElement("span",null,r.a.createElement(j.a,{color:"inherit",edge:"end",disabled:w>0,onClick:function(){return c(!0)},className:Object(m.a)(i&&e.hide)},r.a.createElement(y.a,null)))))),r.a.createElement("main",{className:Object(m.a)(e.content,Object(l.a)({},e.contentShift,i))},r.a.createElement("div",{className:e.drawerHeader}),Z),r.a.createElement(f.a,{className:e.drawer,variant:"persistent",anchor:"right",open:i,classes:{paper:e.drawerPaper}},r.a.createElement("div",{className:e.drawerHeader},r.a.createElement(j.a,{onClick:function(){return c(!1)}},r.a.createElement(S.a,null)),r.a.createElement(h.a,{variant:"h6",noWrap:!0},r.a.createElement(d.a,{id:"app.grid-config"}))),r.a.createElement(O.a,null),r.a.createElement("div",{className:e.drawerBody},r.a.createElement(Y,{onValuesChanged:D}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pe=n(158),be=n(159),he=(n(342),{pl:pe,en:be}),Oe=navigator.language.split(/[-_]/)[0];c.a.render(r.a.createElement(o.a,{locale:Oe,key:Oe,messages:he[Oe]||he.en},r.a.createElement(ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[167,1,2]]]);
//# sourceMappingURL=main.dba4ec24.chunk.js.map